<!doctype html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Kastamonu Ãœniversitesi Web SayfalarÄ± Durum Takibi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .pulse { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: .4 } 50% { opacity: 1 } 100% { opacity: .4 } }
        .tab-btn.active { background-color: #4f46e5 !important; color: white !important; }
        .modal-overlay { background-color: rgba(0, 0, 0, 0.4); backdrop-filter: blur(4px); }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #f43f5e; border-radius: 10px; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="manualModal" class="fixed inset-0 z-50 flex items-center justify-center modal-overlay hidden">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 border border-slate-200 mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-slate-900">Manuel Site KontrolÃ¼</h3>
                <button onclick="toggleModal()" class="text-slate-400 hover:text-slate-600 text-2xl">&times;</button>
            </div>
            <input type="text" id="manualUrl" placeholder="https://kastamonu.edu.tr" class="w-full px-4 py-2 rounded-lg border mb-4 outline-none focus:ring-2 focus:ring-indigo-500">
            <button id="runManualCheck" class="w-full bg-indigo-600 text-white py-2 rounded-lg font-medium">Sorgula</button>
        </div>
    </div>

    <div class="max-w-5xl mx-auto p-6">
        <header class="mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div class="flex items-center gap-4">
                <img src="images/websitekontrol.png" alt="Logo" class="w-12 h-12 md:w-16 md:h-16 object-contain" />
                <div>
                    <h1 class="text-lg md:text-2xl font-bold text-slate-900">Kastamonu Ãœniversitesi Web Durum Takibi</h1>
                    <p class="text-xs md:text-sm text-slate-600 italic">Bilgi Ä°ÅŸlem Daire BaÅŸkanlÄ±ÄŸÄ±</p>
                </div>
            </div>
            <button onclick="toggleModal()" class="px-4 py-2 border-2 border-indigo-600 text-indigo-600 rounded-lg text-sm font-bold hover:bg-indigo-600 hover:text-white transition-all">
                ğŸ” Manuel Kontrol
            </button>
        </header>

        <section class="mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col md:flex-row items-center gap-8">
                <div class="w-40 h-40 flex-shrink-0">
                    <canvas id="healthChart"></canvas>
                </div>
                <div class="flex-1 text-center md:text-left">
                    <h2 class="text-xl font-bold text-slate-800 mb-1">Genel Sistem SaÄŸlÄ±ÄŸÄ±</h2>
                    <p class="text-xs text-slate-500 mb-4 uppercase tracking-widest font-semibold">
                        Toplam Ä°ncelenen Birim: <span id="grandTotalCount" class="text-indigo-600">...</span>
                    </p>
                    
                    <div id="initialLoader" class="space-y-2 mb-4">
                        <div class="text-sm font-medium text-indigo-600" id="globalProgressText">Sistem taranÄ±yor...</div>
                        <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                            <div id="globalProgressBar" class="h-full bg-indigo-600 transition-all w-0"></div>
                        </div>
                    </div>
                    <div id="healthSummary" class="hidden flex gap-4 justify-center md:justify-start">
                        <div class="px-4 py-2 bg-emerald-50 rounded-lg border border-emerald-100 text-center">
                            <div class="text-[10px] text-emerald-600 font-bold uppercase">Aktif</div>
                            <div class="text-xl font-black text-emerald-700" id="totalUpCount">0</div>
                        </div>
                        <div class="px-4 py-2 bg-rose-50 rounded-lg border border-rose-100 text-center">
                            <div class="text-[10px] text-rose-600 font-bold uppercase">Pasif</div>
                            <div class="text-xl font-black text-rose-700" id="totalDownCount">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                    <span class="w-2 h-2 bg-rose-500 rounded-full"></span> 
                    EriÅŸilemeyen Servisler
                </h3>
                <div id="failedList" class="h-[120px] overflow-y-auto custom-scroll space-y-2 text-xs">
                    <p class="text-slate-400 italic">Sistem taramasÄ± bekleniyor...</p>
                </div>
            </div>
        </section>

        <section class="mb-6">
            <div class="flex flex-wrap gap-2 mb-4">
                <button data-group="anasayfa" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">Anasayfa</button>
                <button data-group="fakulte" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">FakÃ¼lteler</button>
                <button data-group="ensyo" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">EnstitÃ¼-YÃ¼ksekokullar</button>
                <button data-group="myo" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">Meslek YÃ¼ksekokullarÄ±</button>
                <button data-group="koordinator" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">KoordinatÃ¶rlÃ¼kler</button>
                <button data-group="aum" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">AraÅŸtÄ±rma Uygulama Merkezleri</button>
                <button data-group="idari" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">Ä°dari Birimler</button>
                <button data-group="projelerjoomla" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">Projeler Joomla</button>
                <button data-group="projelerwordpress" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">Projeler Wordpress</button>
                <button data-group="yazilimlarimiz" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">YazÄ±lÄ±mlarÄ±mÄ±z</button>
                <button data-group="diger" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">DiÄŸer</button>
                <button data-group="disyazilimlar" class="tab-btn px-4 py-2 bg-slate-200 text-slate-800 rounded-lg text-sm font-medium">DÄ±ÅŸ YazÄ±lÄ±mlar</button>
            </div>
            
            <div class="flex items-center justify-between bg-white p-3 rounded-xl border border-slate-200 mb-4">
                <span class="text-sm text-slate-600">
                    Grup Ä°Ã§eriÄŸi: <strong id="currentCount" class="text-indigo-600">0</strong> birim
                    <span class="ml-2 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-md">â— <strong id="activeCount">0</strong></span>
                    <span class="ml-1 px-2 py-0.5 bg-rose-50 text-rose-600 rounded-md">â— <strong id="pasiveCount">0</strong></span>
                </span>
            </div>
        </section>

        <div class="rounded-2xl overflow-x-auto shadow-md border border-slate-200 bg-white min-h-[300px]">
            <table class="w-full text-sm">
                <thead class="bg-slate-50 border-b border-slate-200">
                    <tr class="text-left text-slate-500 uppercase tracking-wider">
                        <th class="px-6 py-4 font-semibold">Birim/Site AdÄ±</th>
                        <th class="px-6 py-4 font-semibold">Durum</th>
                        <th class="px-6 py-4 font-semibold">Gecikme</th>
                        <th class="px-6 py-4 font-semibold text-right">Son Kontrol</th>
                    </tr>
                </thead>
                <tbody id="tbody" class="divide-y divide-slate-100">
                    <tr><td colspan="4" class="p-10 text-center text-slate-400 italic">LÃ¼tfen incelemek istediÄŸiniz bir grubu yukarÄ±dan seÃ§in.</td></tr>
                </tbody>
            </table>
        </div>
        <footer class="mt-12 pb-8 border-t border-slate-200 pt-8">
            <div class="grid md:grid-cols-2 gap-8 items-start">
                <div class="space-y-3">
                    <h2 class="text-sm font-bold text-slate-900 uppercase tracking-wider">HakkÄ±nda</h2>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Bu platform, <strong>Kastamonu Ãœniversitesi</strong> dijital ekosisteminde yer alan tÃ¼m web servislerinin eriÅŸilebilirliÄŸini izlemek amacÄ±yla
                        <strong>Kastamonu Ãœniversitesi Bilgi Ä°ÅŸlem Daire BaÅŸkanlÄ±ÄŸÄ±</strong> tarafÄ±ndan geliÅŸtirilmiÅŸtir.
                    </p>
                </div>
                <div class="space-y-3">
                    <h2 class="text-sm font-bold text-slate-900 uppercase tracking-wider">Hizmet AmacÄ±</h2>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Kastamonu Ãœniversitesi web sitelerinin hÄ±z ve aktiflik durumunu kontrol eden araÃ§; Ã¶ÄŸrencilerin, akademik ve idari personelin
                        Ã¼niversite servislerine kesintisiz eriÅŸimini takip etmelerine olanak tanÄ±r.
                    </p>
                </div>
            </div>

            <div class="mt-10 pt-8 border-t border-slate-200 flex flex-col md:flex-row justify-between items-center gap-y-6">

                <div class="text-[11px] text-slate-400 font-medium tracking-wide order-2 md:order-1">
                    Â© 2025 <span class="text-slate-500">Kastamonu Ãœniversitesi</span> â€” TÃ¼m haklarÄ± saklÄ±dÄ±r.
                </div>

                <div class="flex items-center gap-6 order-1 md:order-2">
                    <div class="flex items-center gap-5">
                        <a href="https://kastamonu.edu.tr"
                           class="text-[11px] font-medium text-indigo-600 hover:text-indigo-800 transition-all underline decoration-transparent hover:decoration-indigo-300 underline-offset-4"
                           title="Kastamonu Ãœniversitesi Resmi Web Sitesi">
                            Kastamonu Ãœniversitesi Resmi Web Sitesi
                        </a>

                        <span class="text-slate-200 text-lg select-none">/</span>

                        <a href="https://bidb.kastamonu.edu.tr"
                           class="text-[11px] font-medium text-indigo-600 hover:text-indigo-800 transition-all underline decoration-transparent hover:decoration-indigo-300 underline-offset-4"
                           title="Bilgi Ä°ÅŸlem Daire BaÅŸkanlÄ±ÄŸÄ±">
                            Bilgi Ä°ÅŸlem Daire BaÅŸkanlÄ±ÄŸÄ±
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const GROUPS = {
            anasayfa: ["https://kastamonu.edu.tr"],
            fakulte: ["https://egitim.kastamonu.edu.tr", "https://fen.kastamonu.edu.tr", "https://gstf.kastamonu.edu.tr", "https://iibf.kastamonu.edu.tr", "https://ilahiyat.kastamonu.edu.tr", "https://iletisim.kastamonu.edu.tr", "https://itbf.kastamonu.edu.tr", "https://mmf.kastamonu.edu.tr", "https://orman.kastamonu.edu.tr", "https://sbf.kastamonu.edu.tr", "https://dishek.kastamonu.edu.tr", "https://sporbilimleri.kastamonu.edu.tr", "https://turizm.kastamonu.edu.tr", "https://tip.kastamonu.edu.tr", "https://veteriner.kastamonu.edu.tr"],
            ensyo: ["https://havacilik.kastamonu.edu.tr", "https://ydyo.kastamonu.edu.tr", "https://lisansustu.kastamonu.edu.tr"],
            myo: ["https://abana.kastamonu.edu.tr", "https://arac.kastamonu.edu.tr", "https://bozkurt.kastamonu.edu.tr", "https://cide.kastamonu.edu.tr", "https://catalzeytin.kastamonu.edu.tr", "https://daday.kastamonu.edu.tr", "https://devrekani.kastamonu.edu.tr", "https://ihsangazi.kastamonu.edu.tr", "https://inebolu.kastamonu.edu.tr", "https://kmyo.kastamonu.edu.tr", "https://kure.kastamonu.edu.tr", "https://taskopru.kastamonu.edu.tr", "https://tosya.kastamonu.edu.tr"],
            koordinator: ["https://bidek.kastamonu.edu.tr", "https://kubap.kastamonu.edu.tr", "https://iro.kastamonu.edu.tr", "https://emk.kastamonu.edu.tr", "https://erasmus.kastamonu.edu.tr", "https://farabi.kastamonu.edu.tr", "https://isg.kastamonu.edu.tr", "https://orhun.kastamonu.edu.tr", "https://isbirligi.kastamonu.edu.tr", "https://mevlana.kastamonu.edu.tr", "https://iso.kastamonu.edu.tr", "https://bologna.kastamonu.edu.tr", "https://rankings.kastamonu.edu.tr", "https://engelsiz.kastamonu.edu.tr", "https://kalite.kastamonu.edu.tr", "https://kuosd.kastamonu.edu.tr", "https://sifiratik.kastamonu.edu.tr", "https://surdurulebilirlik.kastamonu.edu.tr", "https://veri.kastamonu.edu.tr", "https://yabancidiller.kastamonu.edu.tr", "https://yapayzeka.kastamonu.edu.tr", "https://ylsy.kastamonu.edu.tr"],
            aum: ["https://ahsap.kastamonu.edu.tr", "https://cbsuzal.kastamonu.edu.tr", "https://cocuk.kastamonu.edu.tr", "https://icsu.kastamonu.edu.tr", "https://islamekonomisi.kastamonu.edu.tr", "https://kariyer.kastamonu.edu.tr", "https://kadinveaile.kastamonu.edu.tr", "https://merlab.kastamonu.edu.tr", "https://kasusem.kastamonu.edu.tr", "https://kultursanat.kastamonu.edu.tr", "https://muhammedihsanoguz.kastamonu.edu.tr", "https://ormanurunleri.kastamonu.edu.tr", "https://ordam.kastamonu.edu.tr", "https://otu.kastamonu.edu.tr", "https://susporlari.kastamonu.edu.tr", "https://ssv.kastamonu.edu.tr", "https://tabiatturizmi.kastamonu.edu.tr", "https://tarkem.kastamonu.edu.tr", "https://tropik.kastamonu.edu.tr", "https://turkdunyasi.kastamonu.edu.tr", "https://turkhalkbilimi.kastamonu.edu.tr", "https://tomer.kastamonu.edu.tr", "https://kuzem.kastamonu.edu.tr", "https://uyem.kastamonu.edu.tr"],
            projelerjoomla: ["https://ihtisas2209.kastamonu.edu.tr", "https://tubitakkye2237.kastamonu.edu.tr", "https://patent2237.kastamonu.edu.tr", "https://depremyapizemin.kastamonu.edu.tr", "https://kariyer2237.kastamonu.edu.tr", "https://ccai2237.kastamonu.edu.tr", "https://usim2237.kastamonu.edu.tr", "https://cocukistismaribirincilonleme.kastamonu.edu.tr", "https://kureseliklimdegisikligi.kastamonu.edu.tr", "https://biyometri2237.kastamonu.edu.tr", "https://4005yenilikciuygulamalar.kastamonu.edu.tr", "https://icam25.kastamonu.edu.tr", "https://bilimselmakale.kastamonu.edu.tr", "https://yayinetigi.kastamonu.edu.tr", "https://spordateknolojiegitimi2237.kastamonu.edu.tr", "https://yasliegzersizegitimi2237.kastamonu.edu.tr", "https://ogretimdeyapayzeka.kastamonu.edu.tr", "https://yapayzekaicerik.kastamonu.edu.tr", "https://senai.kastamonu.edu.tr", "https://dijitalcumhuriyetbilim.kastamonu.edu.tr", "https://futurepolymat.kastamonu.edu.tr/", "https://akademisyen2237.kastamonu.edu.tr", "https://dendro.kastamonu.edu.tr", "https://bby.kastamonu.edu.tr", "https://enfito.kastamonu.edu.tr", "https://integs.kastamonu.edu.tr", "https://emos.kastamonu.edu.tr", "https://ugtak2023.kastamonu.edu.tr", "https://icefc2025.kastamonu.edu.tr", "https://ultzk2026.kastamonu.edu.tr", "https://utk24.kastamonu.edu.tr", "https://ihtisascalistay.kastamonu.edu.tr", "https://skdm.kastamonu.edu.tr", "https://ttocalistay.kastamonu.edu.tr", "https://palinoloji.kastamonu.edu.tr", "https://tropik.kastamonu.edu.tr"],
            projelerwordpress: ["https://ecoprint.kastamonu.edu.tr", "https://icits2024.kastamonu.edu.tr", "https://iklim.kastamonu.edu.tr", "https://iklimvizyonu.kastamonu.edu.tr", "https://makale2237.kastamonu.edu.tr", "https://teknogirisim.kastamonu.edu.tr"],
            idari: ["https://genelsekreterlik.kastamonu.edu.tr", "https://bidb.kastamonu.edu.tr", "https://imidb.kastamonu.edu.tr", "https://kddb.kastamonu.edu.tr", "https://oidb.kastamonu.edu.tr", "https://pdb.kastamonu.edu.tr", "https://sks.kastamonu.edu.tr", "https://strateji.kastamonu.edu.tr", "https://yidb.kastamonu.edu.tr", "https://hukuk.kastamonu.edu.tr", "https://donersermaye.kastamonu.edu.tr", "https://icdenetim.kastamonu.edu.tr"],
            yazilimlarimiz: ["https://dijitalkimlik.kastamonu.edu.tr/", "https://dtts.kastamonu.edu.tr/", "https://dsys.kastamonu.edu.tr/Kullanici/Giris", "https://eimza.kastamonu.edu.tr/", "https://harc.kastamonu.edu.tr/", "https://kvys.kastamonu.edu.tr", "https://lab.kastamonu.edu.tr/", "https://mesai.kastamonu.edu.tr/login", "https://randevu.kastamonu.edu.tr/", "https://robot.kastamonu.edu.tr/", "https://isas.kastamonu.edu.tr/", "https://derslik.kastamonu.edu.tr/", "https://ime.kastamonu.edu.tr/", "https://mes.kastamonu.edu.tr/", "https://kunet.kastamonu.edu.tr/", "https://ozyes.kastamonu.edu.tr", "https://mmfyazokulu.kastamonu.edu.tr/", "https://akademiktakvim.kastamonu.edu.tr/", "https://iskurgenclik.kastamonu.edu.tr/", "https://yoklama.kastamonu.edu.tr"],
            disyazilimlar: ["https://ubys.kastamonu.edu.tr"],
            diger: ["https://etikkurullar.kastamonu.edu.tr", "https://turkdili.kastamonu.edu.tr", "https://aiit.kastamonu.edu.tr", "https://enformatik.kastamonu.edu.tr", "https://cidekonukevi.kastamonu.edu.tr", "https://konukevi.kastamonu.edu.tr", "https://kurumsal.kastamonu.edu.tr", "https://aday.kastamonu.edu.tr", "https://eduroam.kastamonu.edu.tr", "https://hayvanhastanesi.kastamonu.edu.tr", "https://basin.kastamonu.edu.tr", "https://kampusradyo.kastamonu.edu.tr", "https://topluluklar.kastamonu.edu.tr", "https://deneyhayvanlari.kastamonu.edu.tr", "https://sosyalofis.kastamonu.edu.tr", "https://ayyildiz.kastamonu.edu.tr", "https://formasyon.kastamonu.edu.tr", "https://kvkk.kastamonu.edu.tr", "https://fotografvegorselsanatlartoplulugu.kastamonu.edu.tr", "https://senin1dakikan.kastamonu.edu.tr", "https://parlayanyildiz.kastamonu.edu.tr"]
       };

        const SITE_LABELS = {

            "genelsekreterlik.kastamonu.edu.tr": "Genel Sekreterlik",

            "bidb.kastamonu.edu.tr": "Bilgi Ä°ÅŸlem Daire BaÅŸkanlÄ±ÄŸÄ±",

            "imidb.kastamonu.edu.tr": "Ä°dari ve Mali Ä°ÅŸler Daire BaÅŸkanlÄ±ÄŸÄ±",

            "kddb.kastamonu.edu.tr": "KÃ¼tÃ¼phane ve DokÃ¼mantasyon Daire BaÅŸkanlÄ±ÄŸÄ±",

            "oidb.kastamonu.edu.tr": "Ã–ÄŸrenci Ä°ÅŸleri Daire BaÅŸkanlÄ±ÄŸÄ±",

            "pdb.kastamonu.edu.tr": "Personel Daire BaÅŸkanlÄ±ÄŸÄ±",

            "sks.kastamonu.edu.tr": "SaÄŸlÄ±k, KÃ¼ltÃ¼r ve Spor Daire BaÅŸkanlÄ±ÄŸÄ±",

            "strateji.kastamonu.edu.tr": "Strateji Daire BaÅŸkanlÄ±ÄŸÄ±",

            "yidb.kastamonu.edu.tr": "YapÄ± Ä°ÅŸleri Daire BaÅŸkanlÄ±ÄŸÄ±",

            "hukuk.kastamonu.edu.tr": "Hukuk MÃ¼ÅŸavirliÄŸi",

            "donersermaye.kastamonu.edu.tr": "DÃ¶ner Sermaye Ä°ÅŸletme MÃ¼dÃ¼rlÃ¼ÄŸÃ¼",

            "icdenetim.kastamonu.edu.tr": "Ä°Ã§ Denetim Birimi",

            "egitim.kastamonu.edu.tr": "EÄŸitim FakÃ¼ltesi",

            "fen.kastamonu.edu.tr": "Fen FakÃ¼ltesi",

            "gstf.kastamonu.edu.tr": "GÃ¼zel Sanatlar ve TasarÄ±m FakÃ¼ltesi",

            "iibf.kastamonu.edu.tr": "Ä°ktisadi ve Ä°dari Bilimler FakÃ¼ltesi",

            "ilahiyat.kastamonu.edu.tr": "Ä°lahiyat FakÃ¼ltesi",

            "iletisim.kastamonu.edu.tr": "Ä°letiÅŸim FakÃ¼ltesi",

            "itbf.kastamonu.edu.tr": "Ä°nsan ve Toplum Bilimleri FakÃ¼ltesi",

            "mmf.kastamonu.edu.tr": "MÃ¼hendislik ve MimarlÄ±k FakÃ¼ltesi",

            "orman.kastamonu.edu.tr": "Orman FakÃ¼ltesi",

            "sbf.kastamonu.edu.tr": "SaÄŸlÄ±k Bilimleri FakÃ¼ltesi",

            "dishek.kastamonu.edu.tr": "DiÅŸ HekimliÄŸi FakÃ¼ltesi",

            "sporbilimleri.kastamonu.edu.tr": "Spor Bilimleri FakÃ¼ltesi",

            "turizm.kastamonu.edu.tr": "Turizm FakÃ¼ltesi",

            "tip.kastamonu.edu.tr": "TÄ±p FakÃ¼ltesi",

            "veteriner.kastamonu.edu.tr": "Veteriner FakÃ¼ltesi",

            "lisansustu.kastamonu.edu.tr": "LisansÃ¼stÃ¼ EÄŸitim EnstitÃ¼sÃ¼",

            "havacilik.kastamonu.edu.tr": "Sivil HavacÄ±lÄ±k YÃ¼ksekokulu",

            "ydyo.kastamonu.edu.tr": "YabancÄ± Diller YÃ¼ksekokulu",

            "kastamonu.edu.tr": "RektÃ¶rlÃ¼k / Anasayfa",

            "abana.kastamonu.edu.tr": "Abana Sabahat Mesut YÄ±lmaz Meslek YÃ¼ksekokulu",

            "arac.kastamonu.edu.tr": "AraÃ§ Rafet Vergili Meslek YÃ¼ksekokulu",

            "bozkurt.kastamonu.edu.tr": "Bozkurt Meslek YÃ¼ksekokulu",

            "cide.kastamonu.edu.tr": "Cide RÄ±fat Ilgaz Meslek YÃ¼ksekokulu",

            "catalzeytin.kastamonu.edu.tr": "Ã‡atalzeytin Meslek YÃ¼ksekokulu",

            "daday.kastamonu.edu.tr": "Daday Nafi ve Ãœmit Ã‡eri Meslek YÃ¼ksekokulu",

            "devrekani.kastamonu.edu.tr": "Devrekani TOBB Meslek YÃ¼ksekokulu",

            "ihsangazi.kastamonu.edu.tr": "Ä°hsangazi Meslek YÃ¼ksekokulu",

            "inebolu.kastamonu.edu.tr": "Ä°nebolu Meslek YÃ¼ksekokulu",

            "kmyo.kastamonu.edu.tr":"Kastamonu Meslek YÃ¼ksekokulu",

            "kure.kastamonu.edu.tr": "KÃ¼re Meslek YÃ¼ksekokulu",

            "taskopru.kastamonu.edu.tr": "TaÅŸkÃ¶prÃ¼ Meslek YÃ¼ksekokulu",

            "tosya.kastamonu.edu.tr": "Tosya Meslek YÃ¼ksekokulu",

            "bidek.kastamonu.edu.tr": "Bilimsel Dergiler KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "kubap.kastamonu.edu.tr": "Bilimsel AraÅŸtÄ±rma Projeleri Koordinasyon Birimi",

            "iro.kastamonu.edu.tr": "DÄ±ÅŸ Ä°liÅŸkiler KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "emk.kastamonu.edu.tr": "EÄŸitimde MÃ¼lkiyet KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "erasmus.kastamonu.edu.tr": "Erasmus KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "farabi.kastamonu.edu.tr": "Farabi KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "isg.kastamonu.edu.tr": "Ä°ÅŸ SaÄŸlÄ±ÄŸÄ± ve GÃ¼venliÄŸi KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "orhun.kastamonu.edu.tr": "Orhun DeÄŸiÅŸim ProgramÄ± KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "isbirligi.kastamonu.edu.tr": "Ä°kili AnlaÅŸmalar ve Protokoller KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "mevlana.kastamonu.edu.tr": "Mevlana KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "iso.kastamonu.edu.tr": "UluslararasÄ± Ã–ÄŸrenci KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "bologna.kastamonu.edu.tr": "Bologna SÃ¼reci KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "rankings.kastamonu.edu.tr": "UluslararasÄ±laÅŸtÄ±rma KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "engelsiz.kastamonu.edu.tr": "Engelsiz Ãœniversite KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "kalite.kastamonu.edu.tr": "Kalite KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "kuosd.kastamonu.edu.tr": "Ortak SeÃ§meli Dersler KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "sifiratik.kastamonu.edu.tr": "SÄ±fÄ±r AtÄ±k KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "surdurulebilirlik.kastamonu.edu.tr": "SÃ¼rdÃ¼rÃ¼lebilirlik KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "veri.kastamonu.edu.tr": "Veri Analizi Ä°zleme ve DeÄŸerlendirme KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "yabancidiller.kastamonu.edu.tr": "YabancÄ± Diller EÄŸitim AraÅŸtÄ±rma ve SÄ±nav KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "yapayzeka.kastamonu.edu.tr": "Yapay Zeka KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "ylsy.kastamonu.edu.tr": "YLSY Burs KoordinatÃ¶rlÃ¼ÄŸÃ¼",

            "ahsap.kastamonu.edu.tr": "AhÅŸap KÃ¼ltÃ¼rÃ¼nÃ¼ Uygulama ve AraÅŸtÄ±rma Merkezi",

            "cbsuzal.kastamonu.edu.tr": "CoÄŸrafi Bilgi Sistemleri ve Uzaktan AlgÄ±lama Uygulama ve AraÅŸtÄ±rma Merkezi",

            "cocuk.kastamonu.edu.tr": "Ã‡ocuk EÄŸitim Uygulama ve AraÅŸtÄ±rma Merkezi",

            "icsu.kastamonu.edu.tr": "Ä°Ã§ Su ve Deniz BalÄ±klarÄ± Ãœretim, Uygulama ve AraÅŸtÄ±rma Merkezi",

            "islamekonomisi.kastamonu.edu.tr": "Ä°slam Ekonomisi Uygulama ve AraÅŸtÄ±rma Merkezi",

            "kariyer.kastamonu.edu.tr": "GenÃ§lik ve Kariyer GeliÅŸtirme Uygulama ve AraÅŸtÄ±rma Merkezi",

            "kadinveaile.kastamonu.edu.tr": "KadÄ±n ve Aile Ã‡alÄ±ÅŸmalarÄ± Uygulama ve AraÅŸtÄ±rma Merkezi",

            "merlab.kastamonu.edu.tr": "Merkezi AraÅŸtÄ±rma LaboratuvarÄ± Uygulama ve AraÅŸtÄ±rma Merkezi",

            "kasusem.kastamonu.edu.tr": "SÃ¼rekli EÄŸitim AraÅŸtÄ±rma ve Uygulama Merkezi",

            "kultursanat.kastamonu.edu.tr": "KÃ¼ltÃ¼r Sanat Uygulama ve AraÅŸtÄ±rma Merkezi",

            "muhammedihsanoguz.kastamonu.edu.tr": "Muhammed Ä°hsan OÄŸuz Uygulama ve AraÅŸtÄ±rma Merkezi",

            "ormanurunleri.kastamonu.edu.tr": "Orman ÃœrÃ¼nleri Uygulama ve AraÅŸtÄ±rma Merkezi",

            "ordam.kastamonu.edu.tr": "Orta DoÄŸu AraÅŸtÄ±rmalarÄ± Uygulama ve AraÅŸtÄ±rma Merkezi",

            "otu.kastamonu.edu.tr": "OsmanlÄ± TÃ¼rkÃ§esi Uygulama ve AraÅŸtÄ±rma Merkezi",

            "susporlari.kastamonu.edu.tr": "Su SporlarÄ±, Su ve SualtÄ± Uygulama ve AraÅŸtÄ±rma Merkezi",

            "ssv.kastamonu.edu.tr": "Åeyh Åaban-Ä± Veli DeÄŸerleri EÄŸitimi Uygulama ve AraÅŸtÄ±rma Merkezi",

            "tabiatturizmi.kastamonu.edu.tr": "Tabiat Turizmi AraÅŸtÄ±rma ve Uygulama Merkezi",

            "tarkem.kastamonu.edu.tr": "Tarih ve Arkeoloji Uygulama ve AraÅŸtÄ±rma Merkezi",

            "tropik.kastamonu.edu.tr": "Tropik Ã‡alÄ±ÅŸmalar Uygulama ve AraÅŸtÄ±rma Merkezi",

            "turkdunyasi.kastamonu.edu.tr": "TÃ¼rk DÃ¼nyasÄ± Uygulama ve AraÅŸtÄ±rma Merkezi",

            "turkhalkbilimi.kastamonu.edu.tr": "TÃ¼rk Halk Bilimi AraÅŸtÄ±rma ve Uygulama Merkezi",

            "tomer.kastamonu.edu.tr": "TÃ¼rkÃ§e Ã–ÄŸretimi Uygulama ve AraÅŸtÄ±rma Merkezi",

            "kuzem.kastamonu.edu.tr": "Uzaktan EÄŸitim Uygulama ve AraÅŸtÄ±rma Merkezi",

            "uyem.kastamonu.edu.tr": "ÃœstÃ¼n Yetenekliler EÄŸitim Uygulama ve AraÅŸtÄ±rma Merkezi",

            "etikkurullar.kastamonu.edu.tr": "Etik Kurullar",

            "turkdili.kastamonu.edu.tr": "TÃ¼rk Dili BÃ¶lÃ¼mÃ¼",

            "aiit.kastamonu.edu.tr": "AtatÃ¼rk Ä°lkeleri ve Ä°nkÄ±lap Tarihi BÃ¶lÃ¼mÃ¼",

            "enformatik.kastamonu.edu.tr": "Enformatik BÃ¶lÃ¼mÃ¼",

            "cidekonukevi.kastamonu.edu.tr": "Cide Konukevi",

            "konukevi.kastamonu.edu.tr": "Konukevi",

            "kurumsal.kastamonu.edu.tr": "Kurumsal Kimlik",

            "aday.kastamonu.edu.tr": "Aday Ã–ÄŸrenci",

            "eduroam.kastamonu.edu.tr": "Eduoam",

            "hayvanhastanesi.kastamonu.edu.tr": "Hayvan Hastanesi",

            "basin.kastamonu.edu.tr": "BasÄ±n Birimi",

            "kampusradyo.kastamonu.edu.tr": "Kampus Radyo",

            "topluluklar.kastamonu.edu.tr": "Topluluklar",

            "deneyhayvanlari.kastamonu.edu.tr": "Deney HayvanlarÄ±",

            "sosyalofis.kastamonu.edu.tr": "TTO Sosyal Ofis",

            "ayyildiz.kastamonu.edu.tr": "Ay YÄ±ldÄ±z YaÅŸam Kompleksi",

            "formasyon.kastamonu.edu.tr": "Formasyon",

            "kvkk.kastamonu.edu.tr": "KVKK",

            "fotografvegorselsanatlartoplulugu.kastamonu.edu.tr": "FotoÄŸraf ve GÃ¶rsel Sanatlar TopluluÄŸu",

            "senin1dakikan.kastamonu.edu.tr": "Senin 1 Dakikan",

            "parlayanyildiz.kastamonu.edu.tr": "Parlayan YÄ±ldÄ±z Konukevi",

            "ubys.kastamonu.edu.tr": "Ãœniversite Bilgi YÃ¶netim Sistemi"

        };
        let activeTotal = 0, pasiveTotal = 0, urls = [];
        let globalUp = 0, globalDown = 0;
        let myChart;

        const fmtTime = (d) => d.toLocaleTimeString("tr-TR");
        const getSiteLabel = (u) => {
            const key = u.replace(/^https?:\/\//i, "").replace(/\/+$/, "");
            return SITE_LABELS[key] || key;
        };

        function initChart(up, down) {
            const ctx = document.getElementById('healthChart').getContext('2d');
            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Aktif', 'Pasif'],
                    datasets: [{
                        data: [up, down],
                        backgroundColor: ['#10b981', '#f43f5e'],
                        borderWidth: 0
                    }]
                },
                options: { cutout: '75%', plugins: { legend: { display: false } } }
            });
        }

        async function scanEntireSystem() {
            const allUrls = [...new Set(Object.values(GROUPS).flat())];
            const failedListDiv = document.getElementById('failedList');
            failedListDiv.innerHTML = "";
            
            const total = allUrls.length;
            // TOPLAM SAYI UI GÃœNCELLEME
            document.getElementById('grandTotalCount').textContent = total;

            let completed = 0;
            const queue = [...allUrls];

            async function worker() {
                while (queue.length > 0) {
                    const u = queue.shift();
                    try {
                        await fetch(u, { mode: 'no-cors', cache: 'no-store' });
                        globalUp++;
                    } catch (e) {
                        globalDown++;
                        const item = document.createElement('div');
                        item.className = "p-2 bg-rose-50 border-l-2 border-rose-500 text-rose-800 flex justify-between";
                        item.innerHTML = `<span>${getSiteLabel(u)}</span> <span class="font-bold text-[10px]">ERÄ°ÅÄ°LEMÄ°YOR</span>`;
                        failedListDiv.appendChild(item);
                    }
                    completed++;
                    const pct = Math.round((completed / total) * 100);
                    document.getElementById('globalProgressBar').style.width = pct + "%";
                    document.getElementById('globalProgressText').textContent = `Tarama: %${pct}`;
                }
            }

            await Promise.all(Array(15).fill(null).map(() => worker()));
            if(globalDown === 0) failedListDiv.innerHTML = '<p class="text-emerald-500 font-medium">Harika! TÃ¼m servisler aktif.</p>';
            document.getElementById('initialLoader').classList.add('hidden');
            document.getElementById('healthSummary').classList.remove('hidden');
            document.getElementById('totalUpCount').textContent = globalUp;
            document.getElementById('totalDownCount').textContent = globalDown;
            initChart(globalUp, globalDown);
        }

        async function checkOne(u) {
            const start = Date.now();
            try {
                await fetch(u, { mode: 'no-cors', cache: 'no-store' });
                updateRow(u, { up: true, latency: Date.now() - start, when: new Date() });
            } catch (e) {
                updateRow(u, { up: false, latency: null, when: new Date() });
            }
        }

        async function checkGroup() {
            activeTotal = 0; pasiveTotal = 0;
            for (const url of urls) { await checkOne(url); }
        }

        function renderRows() {
            const tbody = document.getElementById("tbody");
            tbody.innerHTML = "";
            urls.forEach(u => {
                const id = btoa(u).replace(/=/g, "");
                const tr = document.createElement("tr");
                tr.id = "row-" + id;
                tr.className = "hover:bg-slate-50 transition-colors";
                tr.innerHTML = `
                    <td class="px-6 py-4 font-medium"><a href="${u}" target="_blank" class="text-indigo-600 underline">${getSiteLabel(u)}</a></td>
                    <td class="px-6 py-4"><span class="pulse text-slate-400 text-xs">Kontrol ediliyor...</span></td>
                    <td class="px-6 py-4 text-slate-500 italic">â€“</td>
                    <td class="px-6 py-4 text-slate-400 text-right">â€“</td>
                `;
                tbody.appendChild(tr);
            });
            document.getElementById("currentCount").textContent = urls.length;
        }

        function updateRow(u, { up, latency, when }) {
            const id = btoa(u).replace(/=/g, "");
            const tr = document.getElementById("row-" + id);
            if (!tr) return;
            tr.children[1].innerHTML = up ? `<span class="px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-bold">AKTÄ°F</span>` : `<span class="px-2 py-1 bg-rose-100 text-rose-700 rounded-full text-[10px] font-bold">PASÄ°F</span>`;
            tr.children[2].textContent = latency ? `${latency} ms` : "â€“";
            tr.children[3].textContent = when ? fmtTime(when) : "â€“";
            if (up) activeTotal++; else pasiveTotal++;
            document.getElementById("activeCount").textContent = activeTotal;
            document.getElementById("pasiveCount").textContent = pasiveTotal;
            if (!up) tr.parentNode.prepend(tr);
        }

        document.querySelectorAll(".tab-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                urls = GROUPS[btn.dataset.group] || [];
                renderRows();
                checkGroup();
            });
        });

        function toggleModal() { document.getElementById('manualModal').classList.toggle('hidden'); }
        window.addEventListener("DOMContentLoaded", scanEntireSystem);
    </script>
</body>
</html>